# Database
DATABASE_URL=postgresql://thefeeder:thefeeder@localhost:5432/thefeeder

# Redis (in production use auth: redis://:REDIS_PASSWORD@host:6379)
REDIS_URL=redis://localhost:6379

# NextAuth (Web App)
NEXTAUTH_SECRET=changeme-generate-a-random-secret-here
NEXTAUTH_URL=http://127.0.0.1:7389

# Site URL
NEXT_PUBLIC_SITE_URL=http://127.0.0.1:7389

# Worker API (for automatic feed scheduling)
# In production, WORKER_API_TOKEN is required and must be a strong secret (no default).
# Generate with: openssl rand -hex 32
WORKER_API_URL=http://localhost:7388
WORKER_API_TOKEN=change-me-in-production

# CORS: in production set explicit origins (e.g. https://feeder.works,https://www.feeder.works).
# Do not leave unset in production if using cookies/credentials in cross-origin APIs.
# ALLOWED_ORIGINS=https://feeder.works,https://www.feeder.works

# SMTP Configuration (Worker - optional, defaults to console for dev)
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@example.com
SMTP_PASS=your-smtp-password
SMTP_FROM=noreply@example.com

# Timezone Configuration
TZ=America/Sao_Paulo

# Digest Configuration (Worker)
DIGEST_TIME=09:00

# Worker API Configuration
WORKER_API_PORT=7388

# Admin (for seed script - Web App)
ADMIN_EMAIL=admin@example.com
ADMIN_PASSWORD=admin123

# Logging Configuration
# Options: debug, info, warn, error
# 
# IMPORTANT: In production, always use LOG_LEVEL=error to prevent excessive logging
# - error: Only logs errors (recommended for production)
# - warn: Logs warnings and errors
# - info: Logs info, warnings, and errors (development)
# - debug: Logs everything (development/debugging only)
#
# Note: DEBUG logs are automatically disabled in production mode (NODE_ENV=production)
# even if LOG_LEVEL=debug is set. This prevents log flooding.
#
# Log rotation is configured in docker-compose.yml:
# - Max log file size: 10MB per file
# - Max log files: 3 files (30MB total)
# - Compression: enabled
LOG_LEVEL=error

# Feed Configuration
# Default refresh interval for new feeds (in minutes)
# Recommended: 180 (3 hours) for optimal resource usage
DEFAULT_REFRESH_INTERVAL_MINUTES=180

# Node.js Optimization
# Limit heap size to 256MB for low resource consumption
NODE_OPTIONS=--max-old-space-size=256

# PostgreSQL Optimization
# Shared buffers (adjust based on available memory)
POSTGRES_SHARED_BUFFERS=64MB

# Redis Optimization
# Maximum memory limit for Redis
REDIS_MAXMEMORY=100mb
